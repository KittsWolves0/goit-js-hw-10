{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst startBtn = document.querySelector(\"button[data-start]\");\nconst days = document.querySelector(\"span[data-days]\");\nconst hours = document.querySelector(\"span[data-hours]\");\nconst minutes = document.querySelector(\"span[data-minutes]\");\nconst seconds = document.querySelector(\"span[data-seconds]\");\nconst input = document.querySelector(\"input\");\nstartBtn.addEventListener(\"click\", hendlerTimer);\nstartBtn.disabled = true;\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      userSelectedDate = selectedDates[0].getTime();\n    if (userSelectedDate <= Date.now()) {\n        startBtn.disabled = true;\n        setTimeout(() => { iziToast.show({\n            message: \"Please choose a date in the future\",\n            position: 'topCenter',\n            closeOnClick: true,\n            timeout: 0,\n            messageColor: 'white',\n            backgroundColor: 'red'\n        }); }, 1);\n    } else {\n        startBtn.disabled = false;\n          \n    }\n  },\n};\n\nflatpickr(\"#datetime-picker\", options);\n\nfunction hendlerTimer() {\n    const intervalId = setInterval(() => {\n        const currentDate = Date.now();\n        const delta = userSelectedDate - currentDate;\n        if (delta < 0) {\n            input.disabled = false;\n            return\n        }\n        const timer = setTimer(delta);\n        drawClocks(timer);\n          startBtn.disabled = true;\n          input.disabled = true;\n    }, 1000);\n}\n\nfunction setTimer(time) {\n    const day = pad(Math.floor(time / (1000 * 60 * 60 * 24)));\n    const hour = pad(Math.floor((time % (60000 * 60 * 24)) / (1000 * 60 * 60)));\n    const min = pad(Math.floor((time % (60000 * 60)) / (1000 * 60)));\n    const sec = pad(Math.floor((time % 60000) / 1000));\n    return {day, hour, min, sec}\n}\n\nfunction pad(value) {\n    return String(value).padStart(2, \"0\");\n}\n\nfunction drawClocks ({day, hour, min, sec}) {\n    days.textContent = day;\n    hours.textContent = hour;\n    minutes.textContent = min;\n    seconds.textContent = sec;\n}"],"names":["startBtn","days","hours","minutes","seconds","input","hendlerTimer","userSelectedDate","options","selectedDates","iziToast","flatpickr","currentDate","delta","timer","setTimer","drawClocks","time","day","pad","hour","min","sec","value"],"mappings":"0IAWA,MAAMA,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAQ,SAAS,cAAc,OAAO,EAC5CL,EAAS,iBAAiB,QAASM,CAAY,EAC/CN,EAAS,SAAW,GACpB,IAAIO,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,CAAC,EAAE,QAAO,EACzCF,GAAoB,KAAK,OACzBP,EAAS,SAAW,GACpB,WAAW,IAAM,CAAEU,EAAS,KAAK,CAC7B,QAAS,qCACT,SAAU,YACV,aAAc,GACd,QAAS,EACT,aAAc,QACd,gBAAiB,KAC7B,CAAS,CAAE,EAAI,CAAC,GAERV,EAAS,SAAW,EAGzB,CACH,EAEAW,EAAU,mBAAoBH,CAAO,EAErC,SAASF,GAAe,CACD,YAAY,IAAM,CACjC,MAAMM,EAAc,KAAK,MACnBC,EAAQN,EAAmBK,EACjC,GAAIC,EAAQ,EAAG,CACXR,EAAM,SAAW,GACjB,MACH,CACD,MAAMS,EAAQC,EAASF,CAAK,EAC5BG,EAAWF,CAAK,EACdd,EAAS,SAAW,GACpBK,EAAM,SAAW,EACtB,EAAE,GAAI,CACX,CAEA,SAASU,EAASE,EAAM,CACpB,MAAMC,EAAMC,EAAI,KAAK,MAAMF,EAAQ,KAAoB,CAAC,EAClDG,EAAOD,EAAI,KAAK,MAAOF,GAAQ,IAAQ,GAAK,KAAQ,IAAO,GAAK,GAAG,CAAC,EACpEI,EAAMF,EAAI,KAAK,MAAOF,GAAQ,IAAQ,KAAQ,IAAO,GAAG,CAAC,EACzDK,EAAMH,EAAI,KAAK,MAAOF,EAAO,IAAS,GAAI,CAAC,EACjD,MAAO,CAAC,IAAAC,EAAK,KAAAE,EAAM,IAAAC,EAAK,IAAAC,CAAG,CAC/B,CAEA,SAASH,EAAII,EAAO,CAChB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASP,EAAY,CAAC,IAAAE,EAAK,KAAAE,EAAM,IAAAC,EAAK,IAAAC,CAAG,EAAG,CACxCrB,EAAK,YAAciB,EACnBhB,EAAM,YAAckB,EACpBjB,EAAQ,YAAckB,EACtBjB,EAAQ,YAAckB,CAC1B"}